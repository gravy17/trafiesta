import Image from "next/image";
import React, { useState } from "react";
import ItineraryModal from "./ItineraryModal";
import ListingsModal from "./ListingsModal";

type AllowedTypes = 'flight' | 'hotel' | 'activity' 

type NoItineraryProps = {
  type: AllowedTypes;
};

export function NoItinerary({
  type
}: NoItineraryProps
) {
  const [firstOpen, setFirstOpen] = useState(false);
  const [secondOpen, setSecondOpen] = useState(false);
  const [selectedType, setSelectedType] = useState<
    "hotels" | "flights" | "attraction" | null
  >(null);
  const [selectedLocation, setSelectedLocation] = useState<any>(null);

  return (
    <section className={`w-full h-fit rounded-xs p-4 text-sm bg-white flex flex-col align-middle justify-items-center-safe`}>
      <div className="w-fit m-auto">
        {type == 'flight' ? 
            <svg width="101" height="52" viewBox="0 0 101 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M71.8969 17.3333H43.4297L25.8516 0H45.5297L71.8969 17.3333Z" fill="#E4E7EC"/>
<path d="M50.5 17.333H71.8947L50.5 3.26831V17.333Z" fill="#98A2B3"/>
<path d="M100.5 34.6667H51.9648L56.3594 28.8889H46.4488L43.5191 34.6667H21.0078C9.70098 34.6667 0.5 25.5938 0.5 14.4444V0H11.0973L16.9566 11.5556H79.9922C91.299 11.5556 100.5 20.6284 100.5 31.7778V34.6667Z" fill="#F0F2F5"/>
<path d="M100.5 34.6668V31.7779C100.5 20.6285 91.299 11.5557 79.9922 11.5557H50.5V28.889H56.3594L51.9648 34.6668H100.5Z" fill="#F0F2F5"/>
<path d="M46.1051 52H28.1836L42.832 23.1111H68.0777L46.1051 52Z" fill="#E4E7EC"/>
<path d="M50.5 46.2222L68.0781 23.1111H50.5V46.2222Z" fill="#98A2B3"/>
</svg> : null}
        {type == 'hotel' ? 
            <svg width="101" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M59.7581 17.6244H11.2383V2.74709C11.2383 1.22992 12.4682 0 13.9854 0H57.0112C58.5283 0 59.7583 1.22992 59.7583 2.74709V17.6244H59.7581Z" fill="#EFF3F5"/>
<path d="M57.0111 0H52.1523C53.6695 0 54.8994 1.22992 54.8994 2.74709V17.6244H59.7581V2.74709C59.7581 1.22992 58.5282 0 57.0111 0Z" fill="#D0D5DD"/>
<path d="M9.32422 13.0039H61.6727V67.8903H9.32422V13.0039Z" fill="#E4E7EC"/>
<path d="M56.8125 13.0039H61.6712V67.8903H56.8125V13.0039Z" fill="#F0F2F5"/>
<path d="M63.8008 16.2557H7.1927C6.5858 16.2557 6.09375 15.7636 6.09375 15.1567V13.1341C6.09375 12.5272 6.5858 12.0352 7.1927 12.0352H63.8008C64.4077 12.0352 64.8998 12.5272 64.8998 13.1341V15.1567C64.8998 15.7636 64.4079 16.2557 63.8008 16.2557Z" fill="#D0D5DD"/>
<path d="M63.8008 69.9998H7.1927C6.5858 69.9998 6.09375 69.5078 6.09375 68.9009V66.8782C6.09375 66.2713 6.5858 65.7793 7.1927 65.7793H63.8008C64.4077 65.7793 64.8998 66.2713 64.8998 66.8782V68.9009C64.8998 69.5078 64.4079 69.9998 63.8008 69.9998Z" fill="#D0D5DD"/>
<path d="M22.5475 6.56247H20.7976V8.94548C20.7976 9.22685 20.4547 9.36753 20.1117 9.36753C19.7687 9.36753 19.4258 9.22685 19.4258 8.94548V3.35286C19.4258 3.06274 19.7687 2.9397 20.1117 2.9397C20.4547 2.9397 20.7976 3.06274 20.7976 3.35286V5.50714H22.5475V3.35286C22.5475 3.06274 22.8904 2.9397 23.2334 2.9397C23.5764 2.9397 23.9193 3.06274 23.9193 3.35286V8.94534C23.9193 9.22671 23.5764 9.36739 23.2334 9.36739C22.8904 9.36739 22.5475 9.22671 22.5475 8.94534V6.56247Z" fill="#98A2B3"/>
<path d="M26.5586 7.34505V5.01481C26.5586 3.50243 27.4995 2.9397 28.7129 2.9397C29.9263 2.9397 30.876 3.50243 30.876 5.01481V7.34505C30.876 8.85743 29.9264 9.42017 28.7129 9.42017C27.4994 9.42017 26.5586 8.85743 26.5586 7.34505ZM29.5043 5.01481C29.5043 4.40806 29.2053 4.13544 28.7129 4.13544C28.2204 4.13544 27.9303 4.40806 27.9303 5.01481V7.34505C27.9303 7.95181 28.2205 8.22442 28.7129 8.22442C29.2052 8.22442 29.5043 7.95181 29.5043 7.34505V5.01481Z" fill="#98A2B3"/>
<path d="M37.2236 2.9397C37.5139 2.9397 37.6369 3.2562 37.6369 3.54646C37.6369 3.8806 37.4875 4.17071 37.2236 4.17071H36.0102V8.94548C36.0102 9.22685 35.6673 9.36753 35.3243 9.36753C34.9813 9.36753 34.6384 9.22685 34.6384 8.94548V4.17071H33.425C33.1612 4.17071 33.0117 3.8806 33.0117 3.54646C33.0117 3.2562 33.1348 2.9397 33.425 2.9397H37.2236Z" fill="#98A2B3"/>
<path d="M41.3092 5.62157H42.6281C42.8919 5.62157 43.0414 5.87655 43.0414 6.15792C43.0414 6.39526 42.9182 6.67663 42.6281 6.67663H41.3092V8.17151H43.6658C43.9295 8.17151 44.079 8.45288 44.079 8.77827C44.079 9.05964 43.9559 9.36739 43.6658 9.36739H40.5355C40.2365 9.36739 39.9375 9.22671 39.9375 8.94534V3.36175C39.9375 3.08038 40.2365 2.9397 40.5355 2.9397H43.6658C43.9559 2.9397 44.079 3.24745 44.079 3.52882C44.079 3.85407 43.9295 4.13558 43.6658 4.13558H41.3092V5.62157Z" fill="#98A2B3"/>
<path d="M47.0355 9.36753C46.7365 9.36753 46.4375 9.22685 46.4375 8.94548V3.35286C46.4375 3.06274 46.7804 2.9397 47.1234 2.9397C47.4664 2.9397 47.8093 3.06274 47.8093 3.35286V8.17151H49.8142C50.0779 8.17151 50.2098 8.47052 50.2098 8.76952C50.2098 9.06853 50.0779 9.36753 49.8142 9.36753H47.0355Z" fill="#98A2B3"/>
<path d="M23.9863 37.2209H14.7484C14.21 37.2209 13.7734 36.7843 13.7734 36.2459V22.5843C13.7734 22.0459 14.21 21.6094 14.7484 21.6094H23.9863C24.5247 21.6094 24.9613 22.0459 24.9613 22.5843V36.2459C24.9613 36.7843 24.5247 37.2209 23.9863 37.2209Z" fill="#F0F2F5"/>
<path d="M40.1152 37.2209H30.8773C30.3389 37.2209 29.9023 36.7843 29.9023 36.2459V22.5843C29.9023 22.0459 30.3389 21.6094 30.8773 21.6094H40.1152C40.6536 21.6094 41.0902 22.0459 41.0902 22.5843V36.2459C41.0902 36.7843 40.6538 37.2209 40.1152 37.2209Z" fill="#F0F2F5"/>
<path d="M56.248 37.2209H47.0101C46.4717 37.2209 46.0352 36.7843 46.0352 36.2459V22.5843C46.0352 22.0459 46.4717 21.6094 47.0101 21.6094H56.248C56.7864 21.6094 57.223 22.0459 57.223 22.5843V36.2459C57.223 36.7843 56.7864 37.2209 56.248 37.2209Z" fill="#F0F2F5"/>
<path d="M24.9613 28.3898H20.3928V21.6094H18.342V28.3898H13.7734V30.4406H18.342V37.2209H20.3928V30.4406H24.9613V28.3898Z" fill="#98A2B3"/>
<path d="M41.09 28.3898H36.5216V21.6094H34.4708V28.3898H29.9023V30.4406H34.4708V37.2209H36.5216V30.4406H41.09V28.3898Z" fill="#98A2B3"/>
<path d="M57.223 28.3898H52.6544V21.6094H50.6036V28.3898H46.0352V30.4406H50.6036V37.2209H52.6544V30.4406H57.223V28.3898Z" fill="#98A2B3"/>
<path d="M23.9863 58.6388H14.7484C14.21 58.6388 13.7734 58.2023 13.7734 57.6639V44.0023C13.7734 43.4639 14.21 43.0273 14.7484 43.0273H23.9863C24.5247 43.0273 24.9613 43.4639 24.9613 44.0023V57.6639C24.9613 58.2024 24.5247 58.6388 23.9863 58.6388Z" fill="#F0F2F5"/>
<path d="M41.0902 65.7794H29.9023V44.3453C29.9023 43.6174 30.4924 43.0273 31.2203 43.0273H39.7722C40.5001 43.0273 41.0902 43.6174 41.0902 44.3453V65.7794Z" fill="#EFF3F5"/>
<path d="M39.7751 43.0273H36.2344V65.7794H41.0931V44.3453C41.0931 43.6174 40.503 43.0273 39.7751 43.0273Z" fill="#D0D5DD"/>
<path d="M56.248 58.6388H47.0101C46.4717 58.6388 46.0352 58.2023 46.0352 57.6639V44.0023C46.0352 43.4639 46.4717 43.0273 47.0101 43.0273H56.248C56.7864 43.0273 57.223 43.4639 57.223 44.0023V57.6639C57.223 58.2024 56.7864 58.6388 56.248 58.6388Z" fill="#F0F2F5"/>
<path d="M24.9613 49.8078H20.3928V43.0273H18.342V49.8078H13.7734V51.8586H18.342V58.6388H20.3928V51.8586H24.9613V49.8078Z" fill="#98A2B3"/>
<path d="M57.223 49.8078H52.6544V43.0273H50.6036V49.8078H46.0352V51.8586H50.6036V58.6388H52.6544V51.8586H57.223V49.8078Z" fill="#98A2B3"/>
</svg>
 : null}
        {type == 'activity' ? 
            <svg width="101" height="72" viewBox="0 0 57 72" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M56.4991 13.4156L42.7596 -0.000244141H28.4698L22.1523 37.7972L28.4698 71.9998H56.4991V13.4156Z" fill="#E4E7EC"/>
<path d="M0.5 -0.000244141H28.4729V71.9998H0.5V-0.000244141Z" fill="#F0F2F5"/>
<path d="M14.4766 12.0793H28.4651V18.2478H14.4766V12.0793Z" fill="#F7F9FC"/>
<path d="M42.454 24.6951H28.4653L26.3594 28.2603L28.4653 30.8638H42.454V24.6951Z" fill="#F7F9FC"/>
<path d="M42.454 43.4827V37.3142H28.4653L26.3594 40.3985L28.4653 43.4827H42.454Z" fill="#F7F9FC"/>
<path d="M42.454 56.0984V49.9297H28.4653L26.3594 53.2168L28.4653 56.0984H42.454Z" fill="#F7F9FC"/>
<path d="M14.4766 24.6956H28.4651V30.864H14.4766V24.6956Z" fill="#F7F9FC"/>
<path d="M14.4766 37.3127H28.4651V43.4812H14.4766V37.3127Z" fill="#F7F9FC"/>
<path d="M14.4766 49.9302H28.4651V56.0987H14.4766V49.9302Z" fill="#F7F9FC"/>
<path d="M42.7595 -0.000244141L42.5195 13.3808L56.499 13.4156L42.7595 -0.000244141Z" fill="#98A2B3"/>
</svg>
 : null}
        <p className={`text-sm text-dark align-middle`}>No Request Yet</p>
      </div>
      <button onClick={() => {
          switch (type){
            case "hotel":
              setSelectedType("hotels")
              break;
            case "flight":
              setSelectedType("flights")
              break;
            case "activity":
              setSelectedType("attraction")
              break;
            default:
              setSelectedType(null)
          }
          setFirstOpen(true);
        }} className={`w-full max-w-44 max-h-12 p-2 rounded-sm font-medium mt-4 text-white bg-blue-700 mx-auto`}>
        Add {type}
      </button>

      <ItineraryModal
        isOpen={firstOpen}
        onClose={() => setFirstOpen(false)}
        searchType={selectedType!}
        onSelectLocation={(loc) => {
          setSelectedLocation(loc);
          setSecondOpen(true);
        }}
      />

      <ListingsModal
        isOpen={secondOpen}
        onClose={() => setSecondOpen(false)}
        searchType={selectedType!}
        location={selectedLocation}
      />
    </section>
  );
}
